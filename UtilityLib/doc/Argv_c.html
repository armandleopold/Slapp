<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-type" content="text/html; charset=ISO-8859-1" />
<link rel="stylesheet" href="./robodoc.css" type="text/css" />
<title>./Argv.c</title>
<!-- Source: ./Argv.c -->
<!-- Generated with ROBODoc Version 4.99.34 (Jan  4 2008) -->
</head>
<body>
<div id="logo">
<a name="robo_top_of_doc">Utility Library</a>
</div> <!-- logo -->
<div id="navigation">
<a class="menuitem" href="./toc_index.html#top">Table of Contents</a>
<a class="menuitem" href="./robo_sourcefiles.html#top">Sourcefiles</a>
<a class="menuitem" href="./masterindex.html#top">Index</a>
<a class="menuitem" href="./robo_functions.html#top">Functions</a>
<a class="menuitem" href="./robo_modules.html#top">Modules</a>
<a class="menuitem" href="./robo_types.html#top">Types</a>
<a class="menuitem" href="./robo_variables.html#top">Variables</a>
</div> <!-- navigation -->
<div id="content">
<hr />
<a name="SWL2fARGV">
</a><a name="robo0"></a><h2>SWL/ARGV [ Modules ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="./robo_modules.html#robo_top_of_doc">Modules</a> ]</p>
<p class="item_name">INTRODUCTION</p>
<pre>      This module is useful for creating simple read-only object, where you don't
      want to bother creating a dedicated structure and all the hassle associated.

      The basic type to store such object is "ArgList", which is basically a
      string table composed of key/value pairs.

      Basic creation function <a href="#robo15">MakeArgList</a>() let you provide integer, double or
      string for initializing your object, and simple macro let you retrieve them
      in their original form.

      Since they are mostly intended to be read only, allocation of such object is
      done in one chunk, reducing memory fragmentation, and allowing to free them
      using a single call to the standard free() function.

      Moreover a free field is included in the object, that is left untouched and
      where you can store whatever pointer you want. It is declared as is :

              APTR al_UserData;

      Example:
              ArgList object = MakrArgList(
                      "page_digits",   ARG_INT, cfg-&gt;vic_PagePad,
                      "delete_delay",  ARG_INT, cfg-&gt;vic_DelDelay,
                      "backup_folder", cfg-&gt;vic_BackupFolder,
                      "import_folder", cfg-&gt;vic_ImportDir,
                      NULL, NULL
              );

              // Get values
              digits = <a href="#robo17">NUM</a>(object, page_digits);
              backup = <a href="#robo17">PROP</a>(object, backup_folder);

              <a href="#robo14">FreeArgvList</a>(object);

      Note the double NULL token at the end of <a href="#robo15">MakeArgList</a> parameter list (see doc
      for explanation), and absense of " in the <a href="#robo17">NUM</a> and <a href="#robo17">PROP</a> macro for the key
      name.
</pre>

<hr />
<a name="ARGV2fArgvAppend">
</a><a name="robo12"></a><h2>ARGV/ArgvAppend [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">ARGV</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>      <strong>ArgvAppend</strong> - Append an object at the end of an ArgList.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>      void <strong>ArgvAppend</strong>(ArgList * first, ArgList item);
</pre>
<p class="item_name">FUNCTION</p>
<pre>      Add the object 'item' at the end of linked object list, whose first item
      reference is 'first'. 'item' should not be part of another list, since it
      will broke link.
</pre>
<p class="item_name">SEE ALSO</p>
<pre>      <a href="#robo13">ArgvRemove</a>
</pre>

<hr />
<a name="ARGV2fArgvRemove">
</a><a name="robo13"></a><h2>ARGV/ArgvRemove [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">ARGV</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>      <strong>ArgvRemove</strong> - remove an object from a list and free memory
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>      void <strong>ArgvRemove</strong>(ArgList * first, ArgList item);
</pre>
<p class="item_name">FUNCTION</p>
<pre>      Removes item from given list. Memory will also be freed.
</pre>
<p class="item_name">SEE ALSO</p>
<pre>      <a href="#robo12">ArgvAppend</a>
</pre>

<hr />
<a name="ARGV2fFreeArgvList">
</a><a name="robo14"></a><h2>ARGV/FreeArgvList [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">ARGV</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>      <strong>FreeArgvList</strong> - Free memory of a whole object list
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>      void <strong>FreeArgvList</strong>(ArgList start);
</pre>
<p class="item_name">SEE ALSO</p>
<pre>      <a href="#robo15">MakeArgList</a>
</pre>

<hr />
<a name="ARGV2fMakeArgList">
</a><a name="robo15"></a><h2>ARGV/MakeArgList [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">ARGV</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>      <strong>MakeArgList</strong> - build generic objects
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>      ArgList <strong>MakeArgList</strong>(STRPTR id, ...);
</pre>
<p class="item_name">FUNCTION</p>
<pre>      This function create a list of key/value pairs, that you can query through
      <a href="./CGI_c.html#robo19">GetProperty</a>(), using al_Array field of returned object. It is useful in case
      you don't want to create a dedicated structure and object is mostly read-only.
</pre>
<p class="item_name">INPUT</p>
<pre>      - Give your list of key/value pair terminated by NULL. Those special value
        can be given as key :
              - ARG_INT : value following will be extracted as (int) and converter to string (%d).
              - ARG_DBL : value will be extracted as (double) and converter to string (%g).
        If value is NULL, empty string will be used instead.
      - After the list, this function expect to get a pointer to next object that
        will linked into al_Next field of object created. This is used to create
        linked list of object.

        You can also provide ARG_REV as object, and then a real ArgList pointer.
        The al_Next field of this object will be set to the newly created object.
        Useful when creating a series of object inside a loop.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>      ArgList list =
              <strong>MakeArgList</strong>("id", ARG_INT, 1, "value", "choice_1",
              <strong>MakeArgList</strong>("id", ARG_INT, 2, "value", "choice_2",
              <strong>MakeArgList</strong>("id", ARG_INT, 3, "value", "choice_3")));

      while (list)
      {
              printf("id = %d, value = %s\n", <a href="#robo17">NUM</a>(list, id), <a href="#robo17">PROP</a>(list, value));
              <a href="#robo17">FREE_AND_GONEXT</a>(list);
      }
</pre>
<p class="item_name">SEE ALSO</p>
<pre>      <a href="#robo16">MakeArgListFromCGI</a>, <a href="#robo14">FreeArgvList</a>, <a href="#robo17">NUM</a>, <a href="#robo17">PROP</a>, <a href="#robo17">FREE_AND_GONEXT</a>, <a href="./CGI_c.html#robo19">GetProperty</a>
</pre>

<hr />
<a name="ARGV2fMakeArgListFromCGI">
</a><a name="robo16"></a><h2>ARGV/MakeArgListFromCGI [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">ARGV</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>      <strong>MakeArgListFromCGI</strong> - Build an ArgList object from a url form-encoded request.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>      ArgList <strong>MakeArgListFromCGI</strong>(STRPTR request);
</pre>
<p class="item_name">FUNCTION</p>
<pre>      This function will decode the url form-encoded string and build an object,
      you can query using <a href="./CGI_c.html#robo19">GetProperty</a>(). It is based on <a href="./CGI_c.html#robo21">ParseCGI</a>.
</pre>
<p class="item_name">INPUT</p>
<pre>      request - string to parse, a copy will be made. Original will be left untouched.
</pre>
<p class="item_name">SEE ALSO</p>
<pre>      <a href="#robo15">MakeArgList</a>
</pre>

<hr />
<a name="ARGV2fNUM">
</a><a name="robo17"></a><h2>ARGV/NUM, ARGV/PROP,<br />ARGV/FREE_AND_GONEXT [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">ARGV</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>      <strong>NUM</strong> - Retrieve a numeric property from a ArgList object.
      <strong>PROP</strong> - Retrieve a string property.
      <strong>FREE_AND_GONEXT</strong> - Step through item list.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>      int <strong>NUM</strong>(ArgList obj, prop);
      STRPTR <strong>PROP</strong>(ArgList obj, prop);
      void <strong>FREE_AND_GONEXT</strong>(ArgList first);
</pre>
<p class="item_name">FUNCTION</p>
<pre>      These are actually macros (based on <a href="./CGI_c.html#robo19">GetProperty</a> for <strong>NUM</strong> and <strong>PROP</strong>). 'prop' has
      indeed no type because, this parameter will be automatically stringified with
      macro expansion. Thus if you specify "property" as parameter for prop, the
      instruction will actually search for "\"property\"".

      <strong>FREE_AND_GONEXT</strong> is used to browse through a list of object and free them in
      the same way.
</pre>
<p class="item_name">INPUT</p>
<pre>      prop - property, without quotes. I.e. <strong>NUM</strong>(obj, name), will search for
             a property "name" in the list.
</pre>

</div> <!-- content -->
<div id="footer">
<p>Generated from ./Argv.c with <a href="http://www.xs4all.nl/~rfsber/Robo/robodoc.html">ROBODoc</a> V4.99.34 on Thu Mar 06 2008 10:21:26
</p>
</div> <!-- footer -->
</body>
</html>
